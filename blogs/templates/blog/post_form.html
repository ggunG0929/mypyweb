{% extends 'base.html' %}
{% block title %}글쓰기 폼입니다.{% endblock %}
{% block content %}
<div class="container">
    <h3>글쓰기</h3>
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {% include 'form_errors.html' %}
        <!--{{ form.as_p }}--> <!-- 타이틀 입력상자, textarea 내용 생성됨 -->
        <div class="form-group my-2">
            <label for="title" class="mb-1">제목</label>
            <input type="text" id="title" name="title" class="form-control my-2" value="{{ form.title.value|default_if_none:'' }}">
        </div>
        <div class="form-group my-2">
            <label for="content" class="mb-1">내용</label>
            <textarea id="content" name="content" rows="7"
                      class="form-control my-2">{{ form.content.value|default_if_none:'' }}</textarea>
        </div>
        <div class="form-group my-2">
            <label for="file" class="mb-1">파일</label>
            <input type="file" id="file" name="file" class="form-control my-2"
                   value="{{ form.file.value|default_if_none:'' }}">
        </div>
        <div class="form-group my-2">
            <label for="category" class="mb-1">분류</label>
            <select id="category" name="category" class="form-select">
                {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary mt-2">저장하기</button>
    </form>
</div>
{% endblock %}